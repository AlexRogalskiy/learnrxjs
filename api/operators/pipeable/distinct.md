# Distinct

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –ø–æ—Ç–æ–∫–∞

## –°–∏–≥–Ω–∞—Ç—É—Ä–∞

```typescript
distinct<T, K>(
  keySelector?: (value: T) => K,
  flushes?: Observable<any>
): MonoTypeOperatorFunction<T>
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-|-|
| keySelector | –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è |
| flushes | –ü–æ—Ç–æ–∫, `next` –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—á–∏—â–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π Set –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è  |

### –û–ø–∏—Å–∞–Ω–∏–µ

–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è `keySelector` –æ–±—ä—è–≤–ª–µ–Ω–∞, —Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∏–Ω–∞—á–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å—Å—è –±—É–¥—É—Ç —Å–∞–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è.

–î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [`Set`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Set). –í —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –æ–Ω –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ –≤ —Å–≤—è–∑–∫–µ —Å `indexOf`, —á—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º Set. –ù–æ –¥–∞–∂–µ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö, –¥–æ–ª–≥–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–∞–º –ø–∞–º—è—Ç–∏. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `flushes`, –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ Set-–∞.

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–∏—Å–µ–ª

```typescript
// RxJS v6+
import { of } from 'rxjs';
import { distinct } from 'rxjs/operators';

of(1, 1, 2, 2, 2, 1, 2, 3, 4, 3, 2, 1).pipe(
    distinct(),
  )
  .subscribe(x => console.log(x)); // 1, 2, 3, 4
```

### –ü—Ä–∏–º–µ—Ä 2: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `keySelector` —Ñ—É–Ω–∫—Ü–∏–∏

```typescript
import { of } from 'rxjs';
import { distinct } from 'rxjs/operators';

interface Person {
   age: number,
   name: string
}

of<Person>(
  { age: 4, name: 'Foo'},
  { age: 7, name: 'Bar'},
  { age: 5, name: 'Foo'},
).pipe(
  distinct((p: Person) => p.name),
)
.subscribe(x => console.log(x));

// displays:
// { age: 4, name: 'Foo' }
// { age: 7, name: 'Bar' }
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- üì∞ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [dictinct](https://rxjs.dev/api/operators/distinct)
- üìÅ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: https://github.com/reactivex/rxjs/tree/6.5.5/src/internal/operators/distinct.ts

